% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{gg2inset}
\alias{gg2inset}
\title{Convert a ggplot to an inset layer}
\usage{
gg2inset(
  inset_map,
  crs,
  x,
  y,
  inset_width = NULL,
  inset_height = NULL,
  inset_aspect_ratio = NULL,
  full_aspect_ratio = 1,
  ...
)
}
\arguments{
\item{inset_map}{A ggplot object to be used as the inset.}

\item{crs}{A CRS used to compute the inset's aspect ratio when needed.}

\item{x, y}{Numbers in [0, 1] for the bottom-left location on the canvas.}

\item{inset_width, inset_height}{Size of the inset as a fraction of the full
canvas width/height. May be NULL to auto-derive.}

\item{inset_aspect_ratio}{Optional numeric aspect ratio of the inset itself.
When NULL, it is computed from \code{inset_map} and \code{crs}.}

\item{full_aspect_ratio}{Width-to-height ratio of the full canvas (default 1).}

\item{...}{Passed to \code{\link[cowplot:draw_plot]{cowplot::draw_plot()}}.}
}
\value{
A cowplot layer that can be added to \code{ggdraw()}.
}
\description{
Helper around \code{\link[cowplot:draw_plot]{cowplot::draw_plot()}} that computes missing width/height from
the inset's aspect ratio and the full canvas aspect ratio.
}
\details{
\itemize{
\item If both \code{inset_width} and \code{inset_height} are NULL, \code{inset_height} defaults
to 0.2 (with a warning) and width is derived from aspect ratios.
\item If only one of width/height is provided, the other is derived to preserve
the inset aspect ratio on the full canvas.
}

For most users, prefer \code{\link[=with_inset]{with_inset()}} which orchestrates this automatically.
}
\examples{
library(ggplot2)
library(cowplot)

# Create main plot
main_plot <- ggplot(mtcars, aes(mpg, wt)) +
    geom_point()

# Create inset plot
inset_plot <- ggplot(iris, aes(Sepal.Length, Sepal.Width)) +
    geom_point()

# Convert to inset
inset <- gg2inset(inset_plot, sf::st_crs(4326),
    x = 0.7, y = 0.7,
    inset_width = 0.3, inset_height = 0.3
)

# Combine plots
ggdraw(main_plot) + inset

}
