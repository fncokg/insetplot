[{"path":"https://fncokg.github.io/insetplot/articles/insetplot.html","id":"quick-start","dir":"Articles","previous_headings":"","what":"Quick start","title":"Inset maps with insetplot","text":"can also provide custom plots per spec, call with_inset() without plot argument. example, may want add annotations inset(s) .","code":"# 1) Configure the layout: one main map + one inset (nc loaded in setup) config_insetmap(     data_list = list(nc),     specs = list(         inset_spec(main = TRUE),         inset_spec(             xmin = -82, xmax = -80.5, ymin = 35.5, ymax = 36, # bbox for the inset area             loc = \"left bottom\", # where to place the inset             scale_factor = 2 # size relative to main         )     ) )  # 2) Build a base plot (shared by main and inset unless a spec supplies its own) base <- ggplot(nc, aes(fill = AREA)) +     geom_sf() +     scale_fill_viridis_c() +     guides(fill = \"none\") +     theme_void()  # 3) Compose with_inset(base) # 4) Save with correct aspect ratio (only width or height is needed) ggsave_inset(\"inset_map.png\", width = 10) main <- ggplot(nc, aes(fill = AREA)) +     geom_sf() +     scale_fill_viridis_c() +     guides(fill = \"none\") +     theme_void()  config_insetmap(     data_list = list(nc),     specs = list(         inset_spec(main = TRUE, plot = main),         inset_spec(             xmin = -82, xmax = -80.5, ymin = 35.5, ymax = 36,             loc = \"left bottom\", # where to place the inset             scale_factor = 2, # size relative to main             plot = main +                 annotate(\"label\", x = -80.5, y = 35.5, label = \"Detail\", size = 5, hjust = 1, vjust = 0, fill = \"white\", size.unit = \"pt\")         )     ) ) with_inset()"},{"path":"https://fncokg.github.io/insetplot/articles/insetplot.html","id":"why-insetplot-vs--using-cowplotpatchwork-directly","dir":"Articles","previous_headings":"","what":"Why insetplot (vs. using cowplot/patchwork directly)","title":"Inset maps with insetplot","text":"just use patchwork::inset_element() cowplot::draw_plot() directly? ’ll demonstrate following minimal example. First, without insetplot, manually create inset plot zooming desired bbox like (add borders plots clarity): Suppose want add inset bottom-left corner height 30% main plot. Now, let’s try patchwork::inset_element(). Since, , don’t know correct aspect ratio, might specify arbitrary width/height inset. Inset via patchwork now cowplot::draw_plot(): Inset via cowplot Thing become much worse save plots different output apsect ratios. example, save plot height--width artio 1.0: Inset via cowplot wrong aspect ratio may get better results adjusting inset size manually based visual inspection output plot. Now let’s see insetplot handles gracefully. Inset via insetplot Even save plot --good aspect ratio, 1.0: Inset via insetplot wrong aspect ratio don’t forget , fact, can always save correctly ggsave_inset(). short: insetplot calculates inset sizes data aspect ratios (via bounding boxes) guides saving via ggsave_inset(), avoid accidental stretching.","code":"inset_bbox <- c(xmin = -82, xmax = -80.5, ymin = 35.5, ymax = 36) main_map <- ggplot(nc, aes(fill = AREA)) +     geom_sf() +     scale_fill_viridis_c() +     guides(fill = \"none\") +     theme_void() +     map_border(linewidth = 0.5) inset_map <- main_map +     coord_sf(         xlim = c(inset_bbox[\"xmin\"], inset_bbox[\"xmax\"]),         ylim = c(inset_bbox[\"ymin\"], inset_bbox[\"ymax\"])     ) # Manual insetting with patchwork: force a mismatched container ratio main_map + patchwork::inset_element(     inset_map,     left = 0, bottom = 0, right = 0.3, top = 0.3, # arbitrary width/height     align_to = \"panel\" ) cowplot::ggdraw(main_map) +     cowplot::draw_plot(inset_map, 0, 0, 0.3, 0.3) # arbitrary width/height cowplot::ggdraw(main_map) +     cowplot::draw_plot(inset_map, 0, 0, 0.3, 0.3) # arbitrary width/height config_insetmap(     data_list = list(nc),     specs = list(         inset_spec(main = TRUE),         inset_spec(             xmin = -82, xmax = -80.5, ymin = 35.5, ymax = 36,             loc = \"left bottom\", height = 0.3         )     ) )  # You even don't need to prepare `inset_map` here since insetplot handles it internally with_inset(main_map) with_inset(main_map)"},{"path":"https://fncokg.github.io/insetplot/articles/insetplot.html","id":"what-each-parameter-means","dir":"Articles","previous_headings":"","what":"What each parameter means","title":"Inset maps with insetplot","text":"key functions arguments, illustrated inline.","code":""},{"path":"https://fncokg.github.io/insetplot/articles/insetplot.html","id":"define-subplots-inset_spec","dir":"Articles","previous_headings":"What each parameter means","what":"Define subplots (inset_spec)","title":"Inset maps with insetplot","text":"inset_spec() arguments: xmin, xmax, ymin, ymax: numeric bbox subplot data coordinates. NA filled overall extent. loc: convenience string “left|center|right bottom|center|top”. Ignored loc_left/loc_bottom given. loc_left, loc_bottom: numbers [0,1] precise bottom-left position canvas. width, height: numbers (0,1]. Recommend providing one; inferred preserve spatial aspect. scale_factor: number (0,Inf) size inset relative main plot’s x/y ranges. Overrides width/height set. main: TRUE spec main plot (exactly one spec must main). plot: optional ggplot spec; otherwise shared base plot used.","code":"# Define a main spec (no size/position needed) inset_spec(main = TRUE)  # Define an inset by bbox + position + size inset_spec(     xmin = -120, xmax = -100, ymin = 30, ymax = 50, # spatial extent (data CRS)     loc = \"right bottom\", # shorthand position on full canvas     width = 0.30 # size in [0,1]; prefer ONE of width/height )  # Prefer scale_factor to size relative to main plot automatically inset_spec(     xmin = -120, xmax = -100, ymin = 30, ymax = 50,     loc = \"left bottom\",     scale_factor = 0.5 # relative to main ranges )"},{"path":"https://fncokg.github.io/insetplot/articles/insetplot.html","id":"configure-layout-config_insetmap","dir":"Articles","previous_headings":"What each parameter means","what":"Configure layout (config_insetmap)","title":"Inset maps with insetplot","text":"config_insetmap() arguments: data_list: list sf objects; used compute union bbox main aspect ratio. specs: list inset_spec objects; exactly one must main = TRUE. crs: target CRS passed ggplot2::coord_sf(). border_args: style inset borders via map_border().","code":"cfg <- config_insetmap(     data_list = list(nc), # list of sf objects used to compute extents/CRS     specs = list(         inset_spec(main = TRUE),         inset_spec(xmin = -84, xmax = -75, ymin = 33, ymax = 37, loc = \"left bottom\", scale_factor = 0.5)     ),     crs = sf::st_crs(\"EPSG:4326\"), # target CRS for coord_sf()     border_args = list(color = \"black\", linewidth = 1) # passed to map_border() )"},{"path":"https://fncokg.github.io/insetplot/articles/insetplot.html","id":"compose-the-figure-with_inset","dir":"Articles","previous_headings":"What each parameter means","what":"Compose the figure (with_inset)","title":"Inset maps with insetplot","text":"with_inset() arguments: plot: single ggplot used specs, list ggplots per spec, NULL every spec plot. .cfg: configuration use (defaults last_insetcfg()). .as_is: return input plot unchanged (handy debugging/reuse). .return_details: return internals (layouts, subplots) instead just composed ggplot.","code":"out <- with_inset(base) # returns the composed plot names(with_inset(base, .return_details = TRUE)) # list with full, subplots, layouts, main_ratio #> [1] \"full\"            \"subplots\"        \"subplot_layouts\" \"main_ratio\"  # You can also provide custom plots after configuring out <- with_inset(list(main_map, inset_map)) #> Coordinate system already present. #> ℹ Adding new coordinate system, which will replace the existing one."},{"path":"https://fncokg.github.io/insetplot/articles/insetplot.html","id":"save-with-the-right-ratio-ggsave_inset","dir":"Articles","previous_headings":"What each parameter means","what":"Save with the right ratio (ggsave_inset)","title":"Inset maps with insetplot","text":"ggsave_inset() arguments: width/height: one needed; calculated configuration’s main ratio. given, output may match intended ratio. ratio_scale: optional multiplier extra space needed legends/titles.","code":"# Provide only width (or only height). The other dimension is computed to match the main ratio. ggsave_inset(\"map.png\", p, width = 10)"},{"path":"https://fncokg.github.io/insetplot/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Chao Kong. Author, maintainer, copyright holder.","code":""},{"path":"https://fncokg.github.io/insetplot/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kong C (2025). insetplot: Inset Plots Spatial Data Visualization. R package version 1.2.0, https://fncokg.github.io/insetplot/.","code":"@Manual{,   title = {insetplot: Inset Plots for Spatial Data Visualization},   author = {Chao Kong},   year = {2025},   note = {R package version 1.2.0},   url = {https://fncokg.github.io/insetplot/}, }"},{"path":"https://fncokg.github.io/insetplot/index.html","id":"insetplot","dir":"","previous_headings":"","what":"Inset Plots for Spatial Data Visualization","title":"Inset Plots for Spatial Data Visualization","text":"insetplot R package create ggplot2 maps inset maps easily flexibly. handles spatial configuration, aspect ratios, plot composition automatically.","code":""},{"path":[]},{"path":"https://fncokg.github.io/insetplot/index.html","id":"approach-1-reuse-one-plot-simplest","dir":"","previous_headings":"Quick start","what":"Approach 1: Reuse one plot (simplest)","title":"Inset Plots for Spatial Data Visualization","text":"Use plot main map insets — let insetplot handle sizing positioning.","code":"library(insetplot) library(sf) library(ggplot2)  # Load data nc <- st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)  # Configure insets: one main + one inset config_insetmap(   data_list = list(nc),   specs = list(     inset_spec(main = TRUE),     inset_spec(       xmin = -84, xmax = -75, ymin = 33, ymax = 37,       loc = \"left bottom\", scale_factor = 0.5     )   ) )  # Compose with_inset(   ggplot(nc, aes(fill = AREA)) +     geom_sf() +     scale_fill_viridis_c() +     theme_void() )"},{"path":"https://fncokg.github.io/insetplot/index.html","id":"approach-2-custom-plot-per-subplot","dir":"","previous_headings":"Quick start","what":"Approach 2: Custom plot per subplot","title":"Inset Plots for Spatial Data Visualization","text":"Provide specific plots main inset maps.","code":"base_plot <- ggplot(nc, aes(fill = AREA)) +   geom_sf() + scale_fill_viridis_c() + theme_void()  main_plot <- base_plot +   ggtitle(\"Full North Carolina\")   inset_plot <- base_plot +   ggtitle(\"Detail Region\")   config_insetmap(   data_list = list(nc),   specs = list(     inset_spec(main = TRUE, plot = main_plot),     inset_spec(       xmin = -84, xmax = -75, ymin = 33, ymax = 37,       loc = \"left bottom\", scale_factor = 0.5,       plot = inset_plot     )   ) )  with_inset()  # plot argument optional when each spec has its own plot"},{"path":"https://fncokg.github.io/insetplot/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Inset Plots for Spatial Data Visualization","text":"","code":"devtools::install_github(\"fncokg/insetplot\")"},{"path":"https://fncokg.github.io/insetplot/index.html","id":"core-functions","dir":"","previous_headings":"","what":"Core functions","title":"Inset Plots for Spatial Data Visualization","text":"bbox: xmin, xmax, ymin, ymax position: loc (e.g., “left bottom”) loc_left/loc_bottom [0, 1] size: prefer scale_factor; provide one width/height plot: optional custom ggplot object main: exactly one spec must set main = TRUE data_list: list sf objects specs: list inset_spec() crs: target CRS (passed coord_sf crs) border_args: forwarded map_border() inset borders plot: single ggplot list per spec (optional) .as_is: return input plot -(skip inset composition) .return_details: return list(full, subplots, subplot_layouts, main_ratio) Provide one width height; computed main_ratio Optional ratio_scale small adjustments (e.g., legends) map_border() — Small theme draw rectangular border around plots","code":""},{"path":[]},{"path":"https://fncokg.github.io/insetplot/index.html","id":"custom-positioning-and-sizing","dir":"","previous_headings":"Further examples","what":"Custom positioning and sizing","title":"Inset Plots for Spatial Data Visualization","text":"","code":"config_insetmap(   data_list = list(nc),   specs = list(     inset_spec(main = TRUE),     inset_spec(       xmin = -84, xmax = -75, ymin = 33, ymax = 37,       loc_left = 0.05, loc_bottom = 0.05,       # Use width only; height auto-calculated to preserve aspect ratio       width = 0.25     )   ) )  with_inset(base_plot)"},{"path":"https://fncokg.github.io/insetplot/index.html","id":"pass-custom-plots-after-configuration","dir":"","previous_headings":"Further examples","what":"Pass custom plots after configuration","title":"Inset Plots for Spatial Data Visualization","text":"","code":"config_insetmap(   data_list = list(nc),   specs = list(     inset_spec(main = TRUE),     inset_spec(       xmin = -84, xmax = -75, ymin = 33, ymax = 37,       loc = \"left bottom\", scale_factor = 0.5,     )   ) )  with_inset(list(main_plot, inset_plot))"},{"path":"https://fncokg.github.io/insetplot/index.html","id":"save-with-correct-aspect-ratio","dir":"","previous_headings":"Further examples","what":"Save with correct aspect ratio","title":"Inset Plots for Spatial Data Visualization","text":"","code":"ggsave_inset(   \"map_with_insets.png\",   plot = composed_plot,   # `height` auto-calculated from `main_ratio`   width = 12,   dpi = 300 )"},{"path":"https://fncokg.github.io/insetplot/index.html","id":"debugging-with-detailed-output","dir":"","previous_headings":"Further examples","what":"Debugging with detailed output","title":"Inset Plots for Spatial Data Visualization","text":"","code":"result <- with_inset(plot = my_plot, .return_details = TRUE) # result$full, result$subplots, result$subplot_layouts, result$main_ratio"},{"path":"https://fncokg.github.io/insetplot/reference/config_insetmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Configure inset map settings — config_insetmap","title":"Configure inset map settings — config_insetmap","text":"Create store inset configuration used with_inset(). configuration contains subplot specifications, aspect ratio main plot, CRS settings, border appearance insets.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/config_insetmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Configure inset map settings — config_insetmap","text":"","code":"config_insetmap(   data_list,   specs,   crs = sf::st_crs(\"EPSG:4326\"),   border_args = list() )"},{"path":"https://fncokg.github.io/insetplot/reference/config_insetmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Configure inset map settings — config_insetmap","text":"data_list list spatial data objects (sf class). data used compute overall bounding box coordinate systems insets. specs non-empty list inset_spec() objects. crs Coordinate reference system transform , passed ggplot2::coord_sf() crs. Default \"EPSG:4326\". border_args list named arguments passed map_border() style borders around inset plots. See map_border() details (defaults: color = \"black\", linewidth = 1). full_ratio Numeric width--height ratio full canvas. best results, save figures ratio. Default 1.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/config_insetmap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Configure inset map settings — config_insetmap","text":"object class insetcfg. Also stored last configuration, retrievable via last_insetcfg().","code":""},{"path":[]},{"path":"https://fncokg.github.io/insetplot/reference/config_insetmap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Configure inset map settings — config_insetmap","text":"","code":"library(sf) #> Linking to GEOS 3.12.1, GDAL 3.8.4, PROJ 9.4.0; sf_use_s2() is TRUE  nc <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)  config_insetmap(     data_list = list(nc),     specs = list(         inset_spec(main = TRUE),         inset_spec(             xmin = -84, xmax = -75, ymin = 33, ymax = 37,             loc = \"left bottom\", scale_factor = 0.5         )     ) )"},{"path":"https://fncokg.github.io/insetplot/reference/get_bbox_features.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract width, height, and aspect ratio from a bounding box — get_bbox_features","title":"Extract width, height, and aspect ratio from a bounding box — get_bbox_features","text":"Computes spatial range aspect ratio metrics bounding box.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/get_bbox_features.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract width, height, and aspect ratio from a bounding box — get_bbox_features","text":"","code":"get_bbox_features(bbox)"},{"path":"https://fncokg.github.io/insetplot/reference/get_bbox_features.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract width, height, and aspect ratio from a bounding box — get_bbox_features","text":"bbox named numeric vector elements xmin, xmax, ymin, ymax.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/get_bbox_features.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract width, height, and aspect ratio from a bounding box — get_bbox_features","text":"list elements: x_range Width (xmax - xmin) bounding box y_range Height (ymax - ymin) bounding box xy_ratio Aspect ratio (x_range / y_range)","code":""},{"path":"https://fncokg.github.io/insetplot/reference/get_bbox_features.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract width, height, and aspect ratio from a bounding box — get_bbox_features","text":"","code":"# Create a sample bounding box bbox <- c(xmin = -84, xmax = -75, ymin = 33, ymax = 37)  # Extract width, height, and aspect ratio features <- get_bbox_features(bbox) features #> $x_range #> [1] 9 #>  #> $y_range #> [1] 4 #>  #> $xy_ratio #> [1] 2.25 #>   # Access individual components features$x_range #> [1] 9 features$y_range #> [1] 4 features$xy_ratio #> [1] 2.25"},{"path":"https://fncokg.github.io/insetplot/reference/get_widest_bbox.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the union bounding box from multiple shapes — get_widest_bbox","title":"Compute the union bounding box from multiple shapes — get_widest_bbox","text":"Calculates overall bounding box encompasses provided spatial shapes.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/get_widest_bbox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the union bounding box from multiple shapes — get_widest_bbox","text":"","code":"get_widest_bbox(shapes)"},{"path":"https://fncokg.github.io/insetplot/reference/get_widest_bbox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the union bounding box from multiple shapes — get_widest_bbox","text":"shapes list sf objects.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/get_widest_bbox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the union bounding box from multiple shapes — get_widest_bbox","text":"named numeric vector elements: ymin, xmin, xmax, ymax representing union input bounding boxes.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/get_widest_bbox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute the union bounding box from multiple shapes — get_widest_bbox","text":"","code":"library(sf)  # Load sample data nc <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)  # Get the bounding box of the entire dataset bbox <- get_widest_bbox(list(nc)) bbox #>      ymin      xmin      xmax      ymax  #>  33.88199 -84.32385 -75.45698  36.58965"},{"path":"https://fncokg.github.io/insetplot/reference/ggsave_inset.html","id":null,"dir":"Reference","previous_headings":"","what":"Save a composed inset plot with appropriate dimensions — ggsave_inset","title":"Save a composed inset plot with appropriate dimensions — ggsave_inset","text":"wrapper around ggplot2::ggsave() automatically calculates output dimensions based full ratio defined inset configuration. ensures saved image maintains correct aspect ratio proper rendering subplots.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/ggsave_inset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save a composed inset plot with appropriate dimensions — ggsave_inset","text":"","code":"ggsave_inset(   filename,   plot = last_plot(),   device = NULL,   path = NULL,   scale = 1,   width = NA,   height = NA,   ...,   ratio_scale = 1,   .cfg = last_insetcfg() )"},{"path":"https://fncokg.github.io/insetplot/reference/ggsave_inset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save a composed inset plot with appropriate dimensions — ggsave_inset","text":"filename Filename save plot . Passed directly ggplot2::ggsave(). plot plot save. Default ggplot2::last_plot(). device Device save (e.g., \"png\", \"pdf\"). Default NULL (inferred filename). path Directory path saving. Default NULL (current directory). scale Scaling factor. Default 1. width, height Width height inches. need provide one; calculated automatically. Default NA. ... Additional arguments passed ggplot2::ggsave(). ratio_scale Optional scaling factor adjust aspect ratio. Default 1.0. Use extra elements (e.g., titles, legends) affect overall image dimensions. example, set 1.1 extra width legend present left/right side. .cfg inset configuration (class insetcfg) created config_insetmap().","code":""},{"path":"https://fncokg.github.io/insetplot/reference/ggsave_inset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save a composed inset plot with appropriate dimensions — ggsave_inset","text":"NULL (invisibly). Saves plot disk.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/ggsave_inset.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Save a composed inset plot with appropriate dimensions — ggsave_inset","text":"parameters ggplot2::ggsave(), except need provide either width height, dimension calculated automatically match aspect ratio defined inset configuration. function automatically calculates width height based .cfg$main_ratio maintain aspect ratio consistency. width height provided, warning issued output aspect ratio may match configuration.","code":""},{"path":[]},{"path":"https://fncokg.github.io/insetplot/reference/ggsave_inset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Save a composed inset plot with appropriate dimensions — ggsave_inset","text":"","code":"library(sf) library(ggplot2)  nc <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)  config_insetmap(     data_list = list(nc),     specs = list(         inset_spec(main = TRUE),         inset_spec(             xmin = -84, xmax = -75, ymin = 33, ymax = 37,             loc = \"left bottom\", width = 0.3         )     ) )  base <- ggplot(nc, aes(fill = AREA)) +     geom_sf() +     scale_fill_viridis_c() +     guides(fill = \"none\") +     theme_void() with_inset(base)   # Save with automatically calculated height ggsave_inset(\"inset_map.png\", width = 10)"},{"path":"https://fncokg.github.io/insetplot/reference/inset_spec.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a plot specification for insets — inset_spec","title":"Create a plot specification for insets — inset_spec","text":"Define spatial extent positioning subplot (main inset).","code":""},{"path":"https://fncokg.github.io/insetplot/reference/inset_spec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a plot specification for insets — inset_spec","text":"","code":"inset_spec(   xmin = NA,   xmax = NA,   ymin = NA,   ymax = NA,   loc = \"right bottom\",   loc_left = NA,   loc_bottom = NA,   width = NA,   height = NA,   scale_factor = NA,   main = FALSE,   plot = NULL )"},{"path":"https://fncokg.github.io/insetplot/reference/inset_spec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a plot specification for insets — inset_spec","text":"xmin, xmax, ymin, ymax Numeric bbox coordinates subplot coordinate system data, normally longitude/latitude. may NA inferred overall extent possible. loc convenience string like \"left bottom\", \"center top\", etc. specify position inset full canvas. Horizontal position must one \"left\", \"center\", \"right\"; vertical position must one \"bottom\", \"center\", \"top\". Ignored loc_left loc_bottom provided. loc_left, loc_bottom Numbers [0, 1] bottom-left position inset full canvas. width, height Numeric values (0, 1] size inset. recommended provide one ; dimension inferred maintain aspect ratio spatial extent. also recommended use scale_factor automatically size inset relative main plot instead specifying width/height directly. scale_factor Numeric value (0, Inf) indicating scale inset relative main plot. NA, inset's width/height automatically derived spatial ranges relative main plot multiplied factor. example, scale main plot 1:10,000, inset's dimensions 1:20,000 scale_factor 0.5. main Logical. TRUE marks spec main plot (exactly one). Default FALSE. plot Optional ggplot object use spec instead base plot passed with_inset().","code":""},{"path":"https://fncokg.github.io/insetplot/reference/inset_spec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a plot specification for insets — inset_spec","text":"list elements bbox, loc_left, loc_bottom, width, height, scale_factor, main, plot, hpos, vpos. normally need interact object directly; used internally.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/inset_spec.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a plot specification for insets — inset_spec","text":"","code":"specs <- list(     # Create a main plot specification     inset_spec(main = TRUE),     # Create an inset plot specification with explicit dimensions     inset_spec(         xmin = -120, xmax = -100, ymin = 30, ymax = 50,         loc = \"right bottom\",         width = 0.3     ),     # Create an inset with scale factor     inset_spec(         xmin = -120, xmax = -100, ymin = 30, ymax = 50,         loc = \"left bottom\",         scale_factor = 0.5     ) )"},{"path":"https://fncokg.github.io/insetplot/reference/insetplot-package.html","id":null,"dir":"Reference","previous_headings":"","what":"insetplot: Compose ggplot2 maps with insets — insetplot-package","title":"insetplot: Compose ggplot2 maps with insets — insetplot-package","text":"insetplot lets create ggplot2 maps inset maps easily flexibly. handles spatial configuration, aspect ratios, plot composition automatically.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/insetplot-package.html","id":"core-workflow","dir":"Reference","previous_headings":"","what":"Core workflow","title":"insetplot: Compose ggplot2 maps with insets — insetplot-package","text":"Build configuration config_insetmap inset_spec specifying necessary parameters (position size). Pass ggplot object with_inset generate composed figure. Save final plot ggsave_inset maintain correct aspect ratio.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/insetplot-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main functions","title":"insetplot: Compose ggplot2 maps with insets — insetplot-package","text":"inset_spec: Define bbox, position (loc loc_left/loc_bottom), size (prefer scale_factor; provide one width/height). config_insetmap: Create store configuration. with_inset: Crop subplot, compose subplots calculate sizes positions automatically. ggsave_inset: Save correct aspect ratio derived with_inset, optional ratio_scale fine-tuning.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/insetplot-package.html","id":"example","dir":"Reference","previous_headings":"","what":"Example","title":"insetplot: Compose ggplot2 maps with insets — insetplot-package","text":"","code":"library(sf) library(ggplot2) library(insetplot)  nc <- st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)  # Approach 1: shared base plot for all subplots config_insetmap(   data_list = list(nc),   specs = list(     inset_spec(main = TRUE),     inset_spec(       xmin = -84, xmax = -75, ymin = 33, ymax = 37,       loc = \"left bottom\", scale_factor = 0.5     )   ) ) base_map <- ggplot(nc, aes(fill = AREA)) +   geom_sf() +   scale_fill_viridis_c() +   guides(fill = \"none\") +   theme_void() p <- with_inset(base_map)  # Approach 2: provide custom plots in each spec config_insetmap(   data_list = list(nc),   specs = list(     inset_spec(main = TRUE, plot = base_map),     inset_spec(       xmin = -84, xmax = -75, ymin = 33, ymax = 37,       loc = \"left bottom\", scale_factor = 0.5,       plot = base_map + ggtitle(\"Detail\")     )   ) ) p <- with_inset()  # plot argument is optional here  # Save with the correct aspect ratio ggsave_inset(\"map.png\", p, width = 10)"},{"path":[]},{"path":"https://fncokg.github.io/insetplot/reference/insetplot-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"insetplot: Compose ggplot2 maps with insets — insetplot-package","text":"Maintainer: Chao Kong kongchao1998@gmail.com (ORCID) [copyright holder]","code":""},{"path":"https://fncokg.github.io/insetplot/reference/last_insetcfg.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Last Inset Configuration — last_insetcfg","title":"Get Last Inset Configuration — last_insetcfg","text":"Retrieves recently created inset configuration object. used internally with_inset() configuration explicitly provided.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/last_insetcfg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Last Inset Configuration — last_insetcfg","text":"","code":"last_insetcfg()"},{"path":"https://fncokg.github.io/insetplot/reference/last_insetcfg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Last Inset Configuration — last_insetcfg","text":"inset configuration object class insetcfg, NULL configuration set.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/last_insetcfg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Last Inset Configuration — last_insetcfg","text":"","code":"library(sf)  # Load some spatial data nc <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)  # Configure inset map config_insetmap(     data_list = list(nc),     specs = list(         inset_spec(main = TRUE),         inset_spec(             xmin = -84, xmax = -75, ymin = 33, ymax = 37,             loc = \"left bottom\",             width = 0.3         )     ) )  # Retrieve the configuration cfg <- last_insetcfg()"},{"path":"https://fncokg.github.io/insetplot/reference/map_border.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a border around a map plot — map_border","title":"Add a border around a map plot — map_border","text":"Returns small theme draws rectangular border around plot area. Handy visually separating inset plots main plot.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/map_border.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a border around a map plot — map_border","text":"","code":"map_border(color = \"black\", linewidth = 1, fill = \"white\", ...)"},{"path":"https://fncokg.github.io/insetplot/reference/map_border.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a border around a map plot — map_border","text":"color Border color. Default \"black\". linewidth Border line width. Default 1. fill Background fill color. Default \"white\". ... Passed ggplot2::element_rect().","code":""},{"path":"https://fncokg.github.io/insetplot/reference/map_border.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a border around a map plot — map_border","text":"ggplot2 theme object add ggplot +.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/map_border.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a border around a map plot — map_border","text":"","code":"library(ggplot2)  ggplot(mtcars, aes(mpg, wt)) +     geom_point() +     map_border(color = \"red\", linewidth = 2)"},{"path":"https://fncokg.github.io/insetplot/reference/with_inset.html","id":null,"dir":"Reference","previous_headings":"","what":"Compose a main plot with inset(s) — with_inset","title":"Compose a main plot with inset(s) — with_inset","text":"Build combined plot using inset configuration created config_insetmap(). plot specification configuration, function either uses provided spec$plot supplied plot parameter adds spatial coordinates via ggplot2::coord_sf() given bounding box. Non-main subplots receive border map_border(). Insets composed using patchwork::inset_element().","code":""},{"path":"https://fncokg.github.io/insetplot/reference/with_inset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compose a main plot with inset(s) — with_inset","text":"","code":"with_inset(   plot = NULL,   .cfg = last_insetcfg(),   .as_is = FALSE,   .return_details = FALSE )"},{"path":"https://fncokg.github.io/insetplot/reference/with_inset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compose a main plot with inset(s) — with_inset","text":"plot Optional. Either: single ggplot object use base plot subplots (unless spec plot) list ggplot objects matching length .cfg$specs, element corresponds subplot configuration. NULL specs plot defined (plot fully optional case) NOTE: pass ggplot2::coord_sf() plot manually. coordinate system handled internally. Default NULL. .cfg inset configuration (class \"insetcfg\") created config_insetmap(). Defaults last_insetcfg(). .as_is Logical. TRUE, return plot -without creating insets. Useful debugging code reuse outside inset workflow. Default FALSE. .return_details Logical. FALSE (default), returns combined plot main plot inset layers. TRUE, returns list. See 'Value' section details.","code":""},{"path":"https://fncokg.github.io/insetplot/reference/with_inset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compose a main plot with inset(s) — with_inset","text":".return_details = FALSE, ggplot object containing main plot plus inset layers. TRUE, list elements: full combined plot subplots Individual ggplot objects subplot subplot_layouts list layout information (x, y, width, height) inset main_ratio Width--height ratio main plot's data extent","code":""},{"path":[]},{"path":"https://fncokg.github.io/insetplot/reference/with_inset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compose a main plot with inset(s) — with_inset","text":"","code":"library(sf) library(ggplot2)  nc <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)  config_insetmap(     data_list = list(nc),     specs = list(         inset_spec(main = TRUE),         inset_spec(             xmin = -82, xmax = -80.5, ymin = 35.5, ymax = 36,             loc = \"left bottom\", scale_factor = 2         )     ) )  # Supply base plot for all subplots base <- ggplot(nc, aes(fill = AREA)) +     geom_sf() +     scale_fill_viridis_c() +     guides(fill = \"none\") +     theme_void() with_inset(base)   # Or supply custom plots in each inset_spec, then call with_inset() without plot config_insetmap(     data_list = list(nc),     specs = list(         inset_spec(main = TRUE, plot = base),         inset_spec(             xmin = -82, xmax = -80.5, ymin = 35.5, ymax = 36,             loc = \"left bottom\", scale_factor = 2,             plot = base # Each spec has its own plot         )     ) ) with_inset() # plot parameter is optional now"},{"path":"https://fncokg.github.io/insetplot/news/index.html","id":"insetplot-100","dir":"Changelog","previous_headings":"","what":"insetplot 1.0.0","title":"insetplot 1.0.0","text":"Initial CRAN submission.","code":""}]
